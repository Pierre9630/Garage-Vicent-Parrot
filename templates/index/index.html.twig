{% extends 'base.html.twig' %}

{% block title %}Hello IndexController!{% endblock %}

{% block body %}
    {#  {{ form_start(form) }}
    {{ form_widget(form) }}
    <button class="btn">{{ button_label|default('Rechercher') }}</button>
    {{ form_end(form) }}#}
  <style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .image{
        max-width: 100%;
        max-height: 60vh;
    }
</style>

<div class="example-wrapper">
    {# <h1>Hello {{ controller_name }}! ✅</h1>

    This friendly message is coming from: #}
{#    <ul>#}
{#        <li>Your controller at <code><a href="{{ 'C:/Users/Pierre DEv/PhpstormProjects/TestProject/TestProject/src/Controller/IndexController.php'|file_link(0) }}">src/Controller/IndexController.php</a></code></li>#}
{#        <li>Your template at <code><a href="{{ 'C:/Users/Pierre DEv/PhpstormProjects/TestProject/TestProject/templates/index/index.html.twig'|file_link(0) }}">templates/index/index.html.twig</a></code></li>#}
{#    </ul>#}
    {#  Ancien champs de recherche <input type="text" name="" id="" class="filter" placeholder="Entrer votre Recherche" onchange="searchCar()"> #}
    <div id="search-container">
        <input
                type="search"
                id="search-input"
                placeholder="Rechercher une annonce.."
        />
        <button id="search">Rechercher</button>
    </div>
    <div class="price-filter">
        <div id="price-slider"></div>
        {# <span id="min-price">500 €</span>
        <span id="max-price">100000 €</span>#}
    </div>
    <span id="lowerValue">500 €</span>
    <span id="upperValue">100000 €</span>

    <div class="container">
        <div class="row">
            {% set counter = 0 %}
            {% for offer in offers %}
            <div class="col-sm-12 m-5">
                <div class="card border">
                    <div id="carouselExampleControls{{ counter }}" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            {#  {{ dump(car) }}#}
                              {%for image in offer.images %}
                                {% if loop.first %}
                                <div class="carousel-item active" {#  {% if dzdzzd == 0 alors "active" %}#}>
                                    <img class=" img-fluid  d-block w-auto " src="{{ asset('assets/uploadscars/') ~ image.name }}" alt="slide">
                                </div>
                                {% elseif loop.last %}
                                    <div class="carousel-item" {#  {% if dzdzzd == 0 alors "active" %}#}>
                                        <img class=" img-fluid  d-block w-auto" src="{{ asset('assets/uploadscars/') ~ image.name }}" alt="slide">
                                    </div>
                                {% else %}
                                    <div class="carousel-item" {#  {% if dzdzzd == 0 alors "active" %}#}>
                                        <img class="img-fluid  d-block w-auto" src="{{ asset('assets/uploadscars/') ~ image.name }}" alt="slide">
                                    </div>
                                {% endif %}


                            {% endfor %}
                            {#  <div class="carousel-item">
                                <img class="d-block w-100" src="..." alt="Second slide">
                            </div>
                            <div class="carousel-item">
                                <img class="d-block w-100" src="..." alt="Third slide">
                            </div>#}
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleControls{{ counter }}" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleControls{{ counter }}" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    {% set counter = counter + 1 %}
                    {#  <img src="" alt="" class="card-img-top">#}
                    <div class="card-body ">
                        <h3 class="card-title" ><a href="{{ path('app_offers_show', {id:offer.id }) }}">{{offer.offertitle }}</a></h3>
                        <h4 class="card-title">{{offer.car.brand }} {{offer.car.model }}</h4>
                        <h5 class="card-kilometers"> {{offer.car.kilometers }} km</h5>
                        <h5 class="card-price"> {{ offer.car.price }} €</h5>
                        <p class="card-text">{{ counter }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

</div>
{% endblock %}
